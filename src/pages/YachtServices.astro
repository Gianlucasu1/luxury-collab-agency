---
import Layout from '@/layouts/Layout.astro';
import Navigation from '@/components/Navigation.astro';
import Footer from '@/components/Footer.astro';
import ServiceFAQCTA from '@/components/ServiceFAQCTA.astro';
import yachtHero from '@/assets/yacht_service_hero.jpg';
import yacht_1 from '@/assets/yacht_1.png';
import yacht_2 from '@/assets/yacht_2.png';
import yacht_3 from '@/assets/yacht_3.png';
import yachtFooterCover from '@/assets/yacht_footer_cover.png';

const yachtPhotos = { yacht_1, yacht_2, yacht_3 };

const yachts = [
  { id: 1, name: 'Aegean Majesty', photo: 'yacht_1', address: 'Palm Ave, La Mesa, CA 91941', dimensions: '7.2M / 38M', capacity: 12, priceFrom: '$10,000' },
  { id: 2, name: 'Nordic Whisper', photo: 'yacht_2', address: 'Ocean Dr, Miami Beach, FL 33139', dimensions: '6.5M / 24M', capacity: 10, priceFrom: '$7,500' },
  { id: 3, name: 'Azure Crest', photo: 'yacht_3', address: 'Harbor Blvd, Marina del Rey, CA 90292', dimensions: '8.0M / 42M', capacity: 8, priceFrom: '$12,400' },
  { id: 4, name: 'Golden Horizon', photo: 'yacht_1', address: 'Marina Way, Newport Beach, CA 92663', dimensions: '9.0M / 55M', capacity: 14, priceFrom: '$15,300' },
  { id: 5, name: 'Sea Serenade', photo: 'yacht_2', address: 'Pier 39, San Francisco, CA 94133', dimensions: '5.8M / 28M', capacity: 8, priceFrom: '$5,200' },
  { id: 6, name: 'Ocean Pearl', photo: 'yacht_3', address: 'Port Hercule, Monaco 98000', dimensions: '7.8M / 32M', capacity: 10, priceFrom: '$9,100' },
  { id: 7, name: 'Mediterranea', photo: 'yacht_1', address: 'Port of Ibiza, Spain 07800', dimensions: '7.0M / 36M', capacity: 10, priceFrom: '$8,900' },
  { id: 8, name: 'Atlantic Breeze', photo: 'yacht_2', address: 'Fisher Island Dr, Miami, FL 33109', dimensions: '6.2M / 30M', capacity: 9, priceFrom: '$7,200' },
  { id: 9, name: 'Pacifica Queen', photo: 'yacht_3', address: 'Kailua Pier, HI 96740', dimensions: '8.5M / 44M', capacity: 11, priceFrom: '$13,750' },
];

const faqs = [
  { q: 'What is the process of renting a yacht with TLCA?', a: 'We start with your preferences, curate options, arrange viewings (virtual or in-person), and handle all logistics from crew to itinerary.' },
  { q: 'How far in advance should I book a yacht charter?', a: 'We recommend booking 2-3 months in advance for peak season, though we can accommodate last-minute requests based on availability.' },
  { q: 'What is included in the yacht charter price?', a: 'Our charters include the yacht, professional crew, fuel, insurance, and basic amenities. Additional services like catering and activities can be arranged.' },
  { q: 'Can I customize my yacht itinerary?', a: 'Absolutely! We specialize in creating bespoke itineraries tailored to your preferences, from secluded coves to bustling marinas.' },
  { q: 'What safety measures are in place?', a: 'All our yachts meet international safety standards, with certified crew, modern safety equipment, and comprehensive insurance coverage.' }
];
---

<Layout title="Luxury Yacht Services - The Luxury Collab Agency">
  <div class="min-h-screen bg-[#11353e] relative">
    <Navigation />

    <!-- Hero Section -->
    <section class="relative w-full h-screen overflow-hidden">
      <div class="absolute inset-0 bg-cover" style={`background-image: url(${yachtHero}); background-position: center right;`}></div>
      <div class="absolute inset-0" style="background: linear-gradient(to bottom, #11353e33, #2a67811a, #11353e59);"></div>
      <div class="relative z-10 h-full flex items-center">
        <div class="container mx-auto px-4 sm:px-6">
          <div class="max-w-3xl">
            <h1 class="text-white mt-3 font-semibold [font-family:'Libre_Bodoni',serif] text-[40px] leading-[44px] tracking-[-1px] md:text-[64px] md:leading-[64px] lg:text-[81px] lg:leading-[80px]">
              Luxury Yachts
              <br />
              <span class="text-[#efb958]">and sailing</span>
            </h1>
            <p class="mt-4 font-secondary font-normal text-white tracking-[-1px] text-[20px] leading-[30px] md:text-[28px] md:leading-[40px] lg:text-[36px] lg:leading-[50px]">
              Curated experiences in the
              <br />
              palm of your hands
            </p>
            <a href="#yachts" class="inline-block mt-8 px-8 py-4 premium-cta font-secondary">
              Explore Yachts
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Yacht Grid -->
    <section
      id="yachts"
      class="relative pt-24 md:pt-28 lg:pt-32 pb-16 md:pb-20 lg:pb-24"
      style="background-image: linear-gradient(to right, #11353e, #2a6781), linear-gradient(to bottom, rgba(17,53,62,0.6), rgba(42,103,129,0.2)); background-blend-mode: overlay;"
    >
      <!-- Floating filter panel -->
      <div class="absolute left-1/2 -translate-x-1/2 -top-0 -translate-y-1/2 z-30 w-full">
        <div class="container mx-auto px-4 sm:px-6">
          <div class="rounded-2xl bg-[#2a6781]/90 shadow-2xl ring-1 ring-white/10 backdrop-blur-md px-4 sm:px-6 py-4 sm:py-5 md:py-6">
            <form class="flex flex-col gap-3">
              <div class="flex items-center gap-3 text-white/90 font-secondary text-sm">
                <span class="whitespace-nowrap">Sort by</span>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 w-full">
                  <div class="relative">
                    <select class="w-full appearance-none rounded-md bg-white text-[#11353e] px-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md">
                      <option>Destination</option>
                      <option>Mediterranean</option>
                      <option>Caribbean</option>
                      <option>Pacific</option>
                    </select>
                    <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[#11353e]/70 transition-transform duration-200 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  <div class="relative">
                    <select class="w-full appearance-none rounded-md bg-white text-[#11353e] px-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md">
                      <option>Yacht Name</option>
                      <option>Aegean Majesty</option>
                      <option>Nordic Whisper</option>
                      <option>Azure Crest</option>
                    </select>
                    <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[#11353e]/70 transition-transform duration-200 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  <div class="relative">
                    <select class="w-full appearance-none rounded-md bg-white text-[#11353e] px-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md">
                      <option>Yacht Type</option>
                      <option>Motor Yacht</option>
                      <option>Catamaran</option>
                      <option>Sailing Yacht</option>
                      <option>Mega Yacht</option>
                    </select>
                    <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[#11353e]/70 transition-transform duration-200 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  <div class="relative">
                    <select class="w-full appearance-none rounded-md bg-white text-[#11353e] px-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md">
                      <option>Guests</option>
                      <option>1-6</option>
                      <option>7-10</option>
                      <option>11-14</option>
                    </select>
                    <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[#11353e]/70 transition-transform duration-200 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  <div class="relative">
                    <select class="w-full appearance-none rounded-md bg-white text-[#11353e] px-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md">
                      <option>Price</option>
                      <option>Low to High</option>
                      <option>High to Low</option>
                    </select>
                    <svg class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-[#11353e]/70 transition-transform duration-200 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </div>
                  <div class="relative">
                    <svg class="absolute left-3 top-1/2 -translate-y-1/2 text-[#11353e]/60 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input
                      class="w-full rounded-md bg-white text-[#11353e] pl-9 pr-3 py-2 text-sm border border-white/60 outline-none focus:ring-2 focus:ring-[#efb958] shadow-md"
                      placeholder="Search"
                    />
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="container mx-auto px-4 sm:px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
          {yachts.map((y) => (
            <a href={`/yacht/${y.id}`} class="block rounded-2xl overflow-hidden shadow-xl focus:outline-none focus:ring-2 focus:ring-[#efb958]">
              <div class="relative bg-[#11353e]">
                <div class="absolute top-4 left-4">
                  <span class="px-4 py-1 rounded-full font-secondary font-bold uppercase text-sm bg-[#efb958] text-[#11353e]">
                    {y.name}
                  </span>
                </div>
                <img src={yachtPhotos[y.photo]} alt={y.name} class="w-full h-48 md:h-56 lg:h-64 object-cover" />
              </div>
              <div class="bg-white p-5 font-secondary">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-2 text-[#374151]">
                    <svg class="w-[18px] h-[18px]" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                    <span class="text-sm font-medium">{y.address}</span>
                  </div>
                  <div class="text-[#9CA3AF] text-xs">{y.dimensions}</div>
                </div>
                <div class="flex items-center justify-between mt-3">
                  <div class="flex items-center gap-2 text-[#374151]">
                    <svg class="w-[18px] h-[18px]" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L14 10.5v1.5h2v6h2zm-6.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S12 8.17 12 9s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9.5C9 8.12 7.88 7 6.5 7S4 8.12 4 9.5V15h1.5v7h2zm6.5 0v-4h1v-4.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V15h1v4h-4z"/>
                    </svg>
                    <span class="text-sm font-medium">{y.capacity}</span>
                  </div>
                  <div class="text-[#111827] text-base font-semibold">From {y.priceFrom}</div>
                </div>
              </div>
            </a>
          ))}
        </div>
        
        <div class="mt-10 md:mt-12 lg:mt-16">
          <div class="overflow-x-auto">
            <div class="w-max">
              {Array.from({ length: 10 }, (_, i) => i + 1).map((n) => (
                <a
                  href="#"
                  class={`shrink-0 text-[#efb958] border-[#efb958]/50 px-3 py-2 text-sm border rounded-md transition-colors duration-200 ${
                    n === 1 
                      ? 'bg-[#efb958] text-[#11353e]' 
                      : 'hover:bg-[#efb958]/10'
                  }`}
                  aria-current={n === 1 ? 'page' : undefined}
                >
                  {n}
                </a>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ and CTA Combined Section -->
    <ServiceFAQCTA 
      faqs={faqs}
      backgroundImage={yachtFooterCover}
      title="Start Your Journey Here"
      ctaText="Contact Us"
      ctaLink="/contact-us"
      scriptText="An unforgetable experience"
    />

    <Footer />
  </div>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const selects = document.querySelectorAll('select');
    selects.forEach(select => {
      select.addEventListener('focus', function() {
        const chevron = this.nextElementSibling as HTMLElement;
        if (chevron) {
          chevron.style.transform = 'translateY(-50%) rotate(180deg)';
        }
      });
      
      select.addEventListener('blur', function() {
        const chevron = this.nextElementSibling as HTMLElement;
        if (chevron) {
          chevron.style.transform = 'translateY(-50%) rotate(0deg)';
        }
      });
    });
  });
</script>
